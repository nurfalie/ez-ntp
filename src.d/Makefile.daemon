GCC		=	gcc
GCC_OPTIONS	=	-Wall -Wextra -Wstack-protector \
			-fPIE -fstack-protector-all -pedantic -pie
INSTALL		=	install
INSTALL_OPS	=	-o root -g root
INSTALL_PATH	=	/usr/local/bin

all:		ez-ntpd

INCLUDES	=	ez-common.h
INCLUDE_PATH	=	-I/usr/include -I/usr/local/include -I.
LIBS		=	-lpthread
SRC		=	ez-ntpd.c

ez-ntpd:	$(SRC) $(INCLUDES)
		$(GCC) $(GCC_OPTIONS) $(INCLUDE_PATH) -o ez-ntpd \
		$(SRC) $(LIBS)

clean:
	/bin/rm -f ez-ntpd ez-ntpd.core core

distclean: clean

install:
		$(INSTALL) $(INSTALL_OPS) ez-ntpd $(INSTALL_PATH)/ez-ntpd

purge:
	/bin/rm -f *~
